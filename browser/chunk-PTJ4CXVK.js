var o=class e{static _CheckLimit(n,r){let t=e._LogLimitOutputs[n];return t?t.current++:(t={limit:r,current:1},e._LogLimitOutputs[n]=t),t.current<=t.limit}static _GenerateLimitMessage(n,r=1){let t=e._LogLimitOutputs[n];if(!t||!e.MessageLimitReached)return;let s=this._Levels[r];t.current===t.limit&&e[s.name](e.MessageLimitReached.replace(/%LIMIT%/g,""+t.limit).replace(/%TYPE%/g,s.name??""))}static _AddLogEntry(n){e._LogCache=n+e._LogCache,e.OnNewCacheEntry&&e.OnNewCacheEntry(n)}static _FormatMessage(n){let r=s=>s<10?"0"+s:""+s,t=new Date;return"["+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+"]: "+n}static _LogDisabled(n,r){}static _LogEnabled(n=1,r,t){let s=Array.isArray(r)?r[0]:r;if(t!==void 0&&!e._CheckLimit(s,t))return;let i=e._FormatMessage(s),a=this._Levels[n],L=Array.isArray(r)?r.slice(1):[];a.logFunc&&a.logFunc("BJS - "+i,...L);let g=`<div style='color:${a.color}'>${i}</div><br>`;e._AddLogEntry(g),e._GenerateLimitMessage(s,n)}static get LogCache(){return e._LogCache}static ClearLogCache(){e._LogCache="",e._LogLimitOutputs={},e.errorsCount=0}static set LogLevels(n){e.Log=e._LogDisabled,e.Warn=e._LogDisabled,e.Error=e._LogDisabled;let r=[e.MessageLogLevel,e.WarningLogLevel,e.ErrorLogLevel];for(let t of r)if((n&t)===t){let s=this._Levels[t];e[s.name]=e._LogEnabled.bind(e,t)}}};o.NoneLogLevel=0;o.MessageLogLevel=1;o.WarningLogLevel=2;o.ErrorLogLevel=4;o.AllLogLevel=7;o.MessageLimitReached="Too many %TYPE%s (%LIMIT%), no more %TYPE%s will be reported for this message.";o._LogCache="";o._LogLimitOutputs={};o._Levels=[{},{color:"white",logFunc:console.log,name:"Log"},{color:"orange",logFunc:console.warn,name:"Warn"},{},{color:"red",logFunc:console.error,name:"Error"}];o.errorsCount=0;o.Log=o._LogEnabled.bind(o,o.MessageLogLevel);o.Warn=o._LogEnabled.bind(o,o.WarningLogLevel);o.Error=o._LogEnabled.bind(o,o.ErrorLogLevel);export{o as a};
